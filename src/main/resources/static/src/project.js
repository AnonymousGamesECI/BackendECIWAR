require=function s(c,a,r){function l(e,t){if(!a[e]){if(!c[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(d)return d(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=a[e]={exports:{}};c[e][0].call(n.exports,function(t){var o=c[e][1][t];return l(o||t)},n,n.exports,s,c,a,r)}return a[e].exports}for(var d="function"==typeof require&&require,t=0;t<r.length;t++)l(r[t]);return l}({Bullet:[function(t,o,e){"use strict";cc._RF.push(o,"bd07dWfWENEjasZeb5tvq5z","Bullet"),cc.Class({extends:cc.Component,properties:{speed:3e3,targetX:0,targetY:0,idBullet:0,shooter:{default:null,type:cc.Node},firingAudio:{default:null,url:cc.AudioClip},damage:0},onLoad:function(){cc.audioEngine.playEffect(this.firingAudio,!1)},onCollisionEnter:function(t,o){"Kit"!=t.node.name&&"Ammo"!=t.node.name&&"CameraZone"!=t.node.name&&this.node.destroy()},update:function(t){var o=Math.atan2(this.targetX,this.targetY);this.node.x+=this.speed*t*Math.sin(o),this.node.y+=this.speed*t*Math.cos(o)}}),cc._RF.pop()},{}],CameraControl:[function(t,o,e){"use strict";cc._RF.push(o,"25fa9oEi19GRoWsA924p5dD","CameraControl"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},camera:cc.Camera,anim:cc.Animation,jumpZoom:!1,centerAtStart:!1,smoothFollow:!1,followX:{default:0,visible:function(){return this.smoothFollow}},followY:{default:0,visible:function(){return this.smoothFollow}},minFollowDist:{default:0,visible:function(){return this.smoothFollow}},followRatio:{default:0,visible:function(){return this.smoothFollow}},overview:!1,overviewTargets:{default:[],type:[cc.Node],visible:function(){return this.overview}},overviewMargin:{default:0,visible:function(){return this.overview}},speedZoom:!1,zoomInSpeed:{default:0,visible:function(){return this.speedZoom}},zoomOutSpeed:{default:0,visible:function(){return this.speedZoom}},canShake:!1,shakeDuration:{default:0,visible:function(){return this.canShake}},pointerPan:!1,pointerXMult:{default:0,visible:function(){return this.pointerPan}},pointerYMult:{default:0,visible:function(){return this.pointerPan}},useBoundaries:!1,topBound:{default:0,visible:function(){return this.useBoundaries}},bottomBound:{default:0,visible:function(){return this.useBoundaries}},leftBound:{default:0,visible:function(){return this.useBoundaries}},rightBound:{default:0,visible:function(){return this.useBoundaries}}},onLoad:function(){this.startFollow=!1;var t=cc.find("Canvas").getComponent(cc.Canvas);this.visibleSize=cc.view.getVisibleSize(),this.initZoomRatio=this.camera.zoomRatio,this.previousPos=this.node.position,this.pointerPan&&(this.overview=!1,this.speedZoom=!1,t.node.on("mousemove",this.onMouseMove,this),t.node.on("touchmove",this.onTouchMove,this),this.pointerPos=null),this.overview&&(this.jumpZoom=!1,this.speedZoom=!1),this.speedZoom&&(this.jumpZoom=!1)},onEnable:function(){cc.director.getPhysicsManager().attachDebugDrawToCamera(this.camera)},onDisable:function(){cc.director.getPhysicsManager().detachDebugDrawFromCamera(this.camera)},lateUpdate:function(t){var o=void 0;o=(this.overview,this.target.position),this.smoothFollow?((Math.abs(o.x-this.node.x)>=this.followX||Math.abs(o.y-this.node.y)>=this.followY)&&(this.startFollow=!0),this.startFollow&&(this.node.position=this.node.position.lerp(o,this.followRatio),cc.pDistance(o,this.node.position)<=this.minFollowDist&&(this.startFollow=!1))):this.node.position=o,this.previousPos=o},getOverviewTargetsMidpoint:function(){for(var t=cc.p(0,0),o=99999,e=99999,i=-99999,n=-99999,s=0;s<this.overviewTargets.length;++s){var c=this.overviewTargets[s];i=c.x>i?c.x:i,o=c.x<o?c.x:o,n=c.y>n?c.y:n,e=c.y<e?c.y:e}i+=this.overviewMargin,o-=this.overviewMargin,n+=this.overviewMargin,e-=this.overviewMargin;var a=Math.abs(i-o),r=Math.abs(n-e);t=cc.p(o+a/2,e+r/2);var l=Math.max(a/this.visibleSize.width,r/this.visibleSize.height);return this.camera.zoomRatio=1/l,t},shakeCamera:function(){this.canShake&&(this.anim.play("shake"),this.scheduleOnce(this.stopShake.bind(this),this.shakeDuration))},stopShake:function(){this.anim.stop(),this.camera.node.position=cc.p(0,0)},onMouseMove:function(t){this.pointerPos=t.getLocation()},onTouchMove:function(t){this.pointerPos=t.getLocation()}}),cc._RF.pop()},{}],CameraZone:[function(t,o,e){"use strict";cc._RF.push(o,"e0765oLR9ZFuIIJKQWwzxOc","CameraZone"),cc.Class({extends:cc.Component,properties:{lado:{default:0,type:cc.Integer},rooty:{default:null,type:cc.Node},camarina:{default:null,type:cc.Node},player:{default:null,type:cc.Node}},onCollisionEnter:function(t){"Player"==t.node.name&&(1==this.lado?(cc.find("root").position=cc.p({x:this.rooty.position.x,y:this.rooty.position.y-360}),t.node.position=cc.p({x:t.node.position.x,y:360}),t.getComponent("HeroControl").multiY+=1):2==this.lado?(cc.find("root").position=cc.p({x:this.rooty.position.x-640,y:this.rooty.position.y}),t.node.position=cc.p({x:640,y:t.node.position.y}),t.getComponent("HeroControl").multiX+=1):3==this.lado?(cc.find("root").position=cc.p({x:this.rooty.position.x,y:this.rooty.position.y+360}),t.node.position=cc.p({x:t.node.position.x,y:360}),t.position=cc.p({x:t.node.position.x,y:0}),t.getComponent("HeroControl").multiY-=1):4==this.lado&&(cc.find("root").position=cc.p({x:this.rooty.position.x+640,y:this.rooty.position.y}),t.node.position=cc.p({x:640,y:t.node.position.y}),t.getComponent("HeroControl").multiX-=1))}}),cc._RF.pop()},{}],HeroControl:[function(t,o,e){"use strict";cc._RF.push(o,"f71dcKFhDRAspNw3w6SBhQq","HeroControl");var i=t("./StompHandler.js"),n=t("./RestController.js");cc.Class({extends:cc.Component,properties:{speed:cc.v2(0,0),maxSpeed:cc.v2(400,400),drag:1e3,direction:0,directiony:0,jumpSpeed:0,health:0,ammo:0,kills:0,bullet:{default:null,type:cc.Node},loadedPlayers:{default:[],type:[cc.Node]},killsLabel:{default:null,type:cc.Label},leftPlayersLabel:{default:null,type:cc.Label},healthBar:{default:null,type:cc.ProgressBar},ammoBar:{default:null,type:cc.Label},usernameLabel:{default:null,type:cc.Label},muerte:{default:null,type:cc.Node},enemy:{default:null,type:cc.Node},disparo:cc.AudioClip,dolor:cc.AudioClip,noBalas:cc.AudioClip,player:{default:null,type:cc.Node},pain:{default:null,type:cc.Node},realPosition:cc.p({x:0,y:0}),multiX:0,multiY:0},onLoad:function(){cc.audioEngine.stopAll(),this.room=cc.find("form").getComponent("MenuController").room,this.username=cc.find("form").getComponent("MenuController").username,this.id=cc.find("form").getComponent("MenuController").id;var t=cc.find("Camera");this.node.position=cc.p({x:640,y:360}),this.realPosition=cc.p({x:640,y:360}),this.position=cc.p({x:0,y:0}),this.player.rotation=this.node.rotation,this.isDead=!1,this.health=100,this.ammo=100,this.stompClient=null,this.pi=3.141516,this.players=null,this.usernameLabel.string=this.username,this.killsLabel.string=this.kills,cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!1,t.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.addBullet=this.addBulletToScene,this.connectAndSubscribe(),cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:this.onKeyPressed.bind(this),onKeyReleased:this.onKeyReleased.bind(this)},this.node),cc.eventManager.addListener({event:cc.EventListener.MOUSE,onMouseMove:this.onMouseMove.bind(this)},this.node),this.collisionX=0,this.collisionY=0,this.prePosition=cc.v2(),this.preStep=cc.v2(),this.touchingNumber=0,this.loadAllPlayers()},onEnable:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!1},onDisable:function(){cc.director.getCollisionManager().enabled=!1,cc.director.getCollisionManager().enabledDebugDraw=!1},onKeyPressed:function(t,o){if(!this.isDead)switch(t){case cc.KEY.a:case cc.KEY.left:this.direction=-1;break;case cc.KEY.d:case cc.KEY.right:this.direction=1;break;case cc.KEY.w:case cc.KEY.up:this.directiony=1;break;case cc.KEY.s:case cc.KEY.down:this.directiony=-1}},onKeyReleased:function(t,o){switch(t){case cc.KEY.a:case cc.KEY.left:case cc.KEY.d:case cc.KEY.right:this.direction=0;break;case cc.KEY.w:case cc.KEY.up:case cc.KEY.s:case cc.KEY.down:this.directiony=0}},onMouseMove:function(t){var o=Math.floor(t.getLocationX()),e=Math.floor(t.getLocationY()),i={x:o-this.node.position.x,y:e-this.node.position.y},n=Math.atan2(i.x,i.y);this.node.rotation=n*(180/this.pi)},onCollisionEnter:function(t,o){if("Bullet"==t.node.name)console.log(t.node.getComponent("Bullet").idBullet),console.log(t.node.getComponent("Bullet").shooter),this.onShootBegan(t),this.node.color=cc.Color.RED;else if("Wall"==t.node.name||"p2"==t.node.name||"CameraZone"==t.node.name){this.touchingNumber++;var e=t.world.aabb,i=t.world.preAabb.clone(),n=o.world.aabb,s=o.world.preAabb.clone();s.x=n.x,i.x=e.x,console.log("col"),cc.Intersection.rectRect(s,i)&&(s.xMax>i.xMax?this.collisionX=-1:s.xMin<i.xMin&&(this.collisionX=1),t.touchingX=!0),s.y=n.y,i.y=e.y,cc.Intersection.rectRect(s,i)&&(s.yMax>i.yMax?this.collisionY=-1:s.yMin<i.yMin&&(this.collisionY=1),t.touchingY=!0)}else"Kit"==t.node.name?(70<=this.health?this.health=100:this.health+=50,this.healthBar.progress=this.health/100):"Ammo"==t.node.name?(this.ammo+=15,this.ammoBar.string=this.ammo):"Death"==t.node.name&&(this.ammo+=30,this.ammoBar.string=this.ammo,this.health+=40,this.healthBar.progress=this.health/100);this.node.color=cc.Color.WHITE},onCollisionExit:function(t){this.touchingNumber--,0===this.touchingNumber&&(this.node.color=cc.Color.WHITE),t.touchingX&&(this.collisionX=0,t.touchingX=!1),t.touchingY&&(t.touchingY=!1,this.collisionY=0)},update:function(t){0===this.direction?0<this.speed.x?(this.speed.x-=this.drag*t,this.speed.x<=0&&(this.speed.x=0)):this.speed.x<0&&(this.speed.x+=this.drag*t,0<=this.speed.x&&(this.speed.x=0)):(this.speed.x+=(0<this.direction?1:-1)*this.drag*t,Math.abs(this.speed.x)>this.maxSpeed.x&&(this.speed.x=0<this.speed.x?this.maxSpeed.x:-this.maxSpeed.x)),0===this.directiony?0<this.speed.y?(this.speed.y-=this.drag*t,this.speed.y<=0&&(this.speed.y=0)):this.speed.y<0&&(this.speed.y+=this.drag*t,0<=this.speed.y&&(this.speed.y=0)):(this.speed.y+=(0<this.directiony?1:-1)*this.drag*t,Math.abs(this.speed.y)>this.maxSpeed.y&&(this.speed.y=0<this.speed.y?this.maxSpeed.y:-this.maxSpeed.y)),this.collisionY<0?0<this.speed.y&&(this.node.y+=this.speed.y*t):0<this.collisionY?this.speed.y<0&&(this.node.y+=this.speed.y*t):this.node.y+=this.speed.y*t,this.collisionX<0?0<this.speed.x&&(this.node.x+=this.speed.x*t):0<this.collisionX?this.speed.x<0&&(this.node.x+=this.speed.x*t):this.node.x+=this.speed.x*t;var o=this.node.position.x+640*this.multiX,e=this.node.position.y+360*this.multiY;this.realPosition=cc.p({x:o,y:e}),0===this.speed.y&&0===this.speed.x||this.stompClient.send("/app/movement/"+this.room,{},JSON.stringify({id:this.id,position:this.realPosition,rotation:this.node.rotation}))},onTouchBegan:function(t){if(!this.isDead&&0<this.ammo){cc.audioEngine.playEffect(this.disparo);var o=t.touch.getLocation(),e=o.X+640*this.multiX-this.realPosition.x,i=o.Y-360*this.multiY-this.realPosition.y,n=Math.abs(e)+Math.abs(i),s=e/n,c=i/n,a=cc.find("root"),r=cc.instantiate(this.bullet);r.x=this.node.position.x+98*s,r.y=this.node.position.y+98*c,r.getComponent("Bullet").targetX=e,r.getComponent("Bullet").targetY=i,r.getComponent("Bullet").idBullet=this.id,a.addChild(r),r.active=!0,this.stompClient.send("/app/newshot/"+this.room,{},JSON.stringify({idShooter:this.id,touchLocX:o.x+640*this.multiX,touchLocY:o.y+360*this.multiY,position:this.realPosition})),this.ammo-=1,this.ammoBar.string=this.ammo}else 0==this.ammo&&cc.audioEngine.playEffect(this.noBalas)},onShootBegan:function(t){var o=this;this.health-=20,this.healthBar.progress=this.health/100;var e=cc.instantiate(this.pain);cc.director.getScene().addChild(e),e.active=!0;var i=t.node.getComponent("Bullet").idBullet;0==this.health&&axios.put("/rooms/"+this.room+"/players/remove",{id:o.id}).then(function(){axios.get("/rooms/"+o.room+"/players").then(function(t){1==t.data.length&&o.stompClient.send("/app/winner/"+o.room,{},JSON.stringify({id:i}))}),o.stompClient.send("/app/newdeath/"+o.room,{},JSON.stringify({id:o.id})),o.stompClient.send("/app/kill/"+o.room,{},JSON.stringify({id:i}))}).catch(function(t){console.log(t)}),this.node.color=cc.Color.WHITE},die:function(){alert("You have died!"),this.isDead=!0,this.node.active=!1,cc.game.removePersistRootNode(cc.find("form")),cc.director.loadScene("menu",function(){console.log(cc.find("Player"))})},addBulletToScene:function(t,o,e){var i=t.touchLocX-t.position.x,n=t.touchLocY-t.position.y,s=Math.abs(i)+Math.abs(n),c=i/s,a=n/s,r=cc.find("root");(o=cc.instantiate(this.bullet)).x=t.position.x+85*c,o.y=t.position.y+85*a,o.getComponent("Bullet").targetX=i,o.getComponent("Bullet").targetY=n,o.getComponent("Bullet").idBullet=t.idShooter,r.addChild(o),o.active=!0},connectAndSubscribe:function(){var e=this;(0,i.getStompClient)().then(function(t){e.stompClient=t,(0,i.subscribeTopic)(e.stompClient,"/topic/room-movement-"+e.room,function(t){var o=JSON.parse(t.body);e.loadedPlayers.forEach(function(t){o.id==t.id&&t.id!=e.id&&(t.position=o.position,t.rotation=o.rotation)})}),(0,i.subscribeTopic)(e.stompClient,"/topic/room-newshot-"+e.room,function(t){var o=JSON.parse(t.body);o.id!=e.id&&(e.addBullet(o,e.bullet,e.id),console.log("bullet new shot"))}),(0,i.subscribeTopic)(e.stompClient,"/topic/room-newdeath-"+e.room,function(t){var o=JSON.parse(t.body);o.id!=e.id?e.deletePlayer(o.id):(e.die(),(0,i.unsubscribeTopic)())}),(0,i.subscribeTopic)(e.stompClient,"/topic/room-winner-"+e.room,function(t){var o=JSON.parse(t.body);o.id==e.id&&(e.noticeWinner(o.id),(0,i.unsubscribeTopic)())}),(0,i.subscribeTopic)(e.stompClient,"/topic/room-kill-"+e.room,function(t){var o=JSON.parse(t.body);console.log(o.id),console.log("***************************************************************************************"),console.log(e.id),o.id==e.id&&(e.kills++,e.killsLabel.string=e.kills)})})},noticeWinner:function(t){alert("YOU HAVE WON"),this.node.active=!1,cc.game.removePersistRootNode(cc.find("form")),axios.delete("/rooms/"+this.room).then(function(){cc.director.loadScene("menu",function(){console.log("ya")})})},deletePlayer:function(o){var e=cc.instantiate(this.muerte);this.loadedPlayers=this.loadedPlayers.filter(function(t){return t.id==o&&(e.x=t.x,e.y=t.y,t.id==o&&t.destroy()),t.id!=o}),this.leftPlayersLabel.string=this.loadedPlayers.length,cc.find("root").addChild(e),e.active=!0},loadAllPlayers:function(){var e=this,t={onSuccess:function(t){console.log(e.position);t.data.forEach(function(t){if(t.id!=e.id){var o=cc.instantiate(e.enemy);e.loadedPlayers.push(o),o.x=t.x,o.y=t.y,console.log(t.x+","+t.y),o.id=t.id,0,cc.find("root").addChild(o),o.active=!0,e.leftPlayersLabel.string=e.loadedPlayers.length}})},onFailed:function(t){console.log(t)}};(0,n.getRoomPlayers)(e.room,t)},onWallOfDeath:function(){var t=this;this.health=0,this.healthBar.progress=0;var o=cc.instantiate(this.pain);cc.director.getScene().addChild(o),o.active=!0,axios.put("/rooms/"+this.room+"/players/remove",{id:t.id}).then(function(){t.stompClient.send("/app/newdeath/"+t.room,{},JSON.stringify({id:t.id}))}).catch(function(t){console.log(t)})}}),cc._RF.pop()},{"./RestController.js":"RestController","./StompHandler.js":"StompHandler"}],LobbyController:[function(t,o,e){"use strict";cc._RF.push(o,"28badpxCedI2Ku8X1vwfm2A","LobbyController"),cc._RF.pop()},{}],MenuController:[function(t,o,e){"use strict";var i;cc._RF.push(o,"a1ef8J/8lpINZUa6MX6yCNY","MenuController");var n=t("./StompHandler.js"),s=t("./RestController.js");function c(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}cc.Class({extends:cc.Component,properties:(i={username:null,inputName:{default:null,type:cc.EditBox},inputRoom:{default:null,type:cc.EditBox},sendButton:{default:null,type:cc.Node}},c(i,"username",null),c(i,"room",null),c(i,"id",null),c(i,"xPos",null),c(i,"yPos",null),c(i,"stompClient",null),c(i,"player",{default:null,type:cc.Node}),c(i,"url",cc.AudioClip),c(i,"url2",cc.AudioClip),c(i,"soundtrack",cc.AudioClip),i),onLoad:function(){cc.game.addPersistRootNode(this.node),this.id=Math.floor(1e7*Math.random()),this.xPos=Math.floor(1e3*Math.random()),this.yPos=Math.floor(600*Math.random())},start:function(){cc.audioEngine.play(this.soundtrack)},EditBoxDidEndEditing:function(t){this.username=this.inputName.string},beginOrWait:function(){var o=this,t={onSuccess:function(t){3<=t.data.length?o.stompClient.send("/app/start/"+o.room,{},null):cc.director.loadScene("waitingScreen",function(){o.node.active=!1})},onFailed:function(t){console.log(t)}};(0,s.getRoomPlayers)(o.room,t)},loadScene:function(){var o=this,t={onSuccess:function(){o.beginOrWait(),cc.audioEngine.playEffect(o.url)},onFailed:function(t){cc.audioEngine.playEffect(o.url2),alert("Room "+o.room+" game has already started ")}};(0,s.joinRoom)(o.id,o.xPos,o.yPos,o.room,t)},joinThisRoom:function(){var t=this,o={onSuccess:function(){t.loadScene()},onFailed:function(t){console.log(t)}};(0,s.createRoom)(t.room,o)},createOrJoin:function(){var o=this,t={onSuccess:function(t){o.loadScene()},onFailed:function(t){o.joinThisRoom()}};(0,s.getRoomPlayers)(o.room,t)},buttonClicked:function(){var o=this;null==o.username||""==o.username?alert("Please enter a username"):null==o.room||""==o.room?alert("Please enter a room number"):(0,n.getStompClient)().then(function(t){o.stompClient=t,(0,n.subscribeTopic)(o.stompClient,"/topic/room-start-"+o.room,function(t){cc.director.loadScene("game",function(){o.node.active=!1})}),o.createOrJoin()})},setRoom:function(t,o){console.log(o),this.room=o}});cc._RF.pop()},{"./RestController.js":"RestController","./StompHandler.js":"StompHandler"}],RestController:[function(t,o,e){"use strict";cc._RF.push(o,"baf50OhO5ZLb6ST/l6L4390","RestController"),Object.defineProperty(e,"__esModule",{value:!0}),e.getRoomPlayers=function(t,o){axios.get("/rooms/"+t+"/players").then(function(t){o.onSuccess(t)}).catch(function(t){o.onFailed(t)})},e.joinRoom=function(t,o,e,i,n){axios.put("/rooms/"+i+"/players",{id:t,x:o,y:e}).then(function(){n.onSuccess()}).catch(function(t){n.onFailed(t)})},e.createRoom=function(t,o){axios.post("/rooms",{id:t}).then(function(){o.onSuccess()}).catch(function(t){o.onFailed(t)})},e.deleteRoom=function(t,o){axios.delete("/rooms/"+t).then(function(){o.onSuccess()}).catch(function(t){o.onFailed(t)})},cc._RF.pop()},{}],StompHandler:[function(t,o,e){"use strict";cc._RF.push(o,"eae14bIRL9OxqlLQCYn6MCM","StompHandler"),Object.defineProperty(e,"__esModule",{value:!0}),e.getStompClient=function(){return new Promise(function(o){var t=new SockJS("/stompendpoint"),e=Stomp.over(t);e.connect("yqbofqdf","6CMzc5eiNjOdlv9cP9HpqFmHLK3KxUNS",function(t){o(e)},function(t){console.info("error: "+t)},"yqbofqdf")})},e.subscribeTopic=function(t,o,e){i.push(t.subscribe(o,e))},e.getStompClientsSize=function(){return console.log(i),i.length},e.unsubscribeTopic=function(){};var i=[];cc._RF.pop()},{}],WallOfDeath:[function(t,o,e){"use strict";var i;function n(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}cc._RF.push(o,"b30dcPkcktLbbOvE4CJvWz1","WallOfDeath"),cc.Class({extends:cc.Component,properties:(i={time:{default:10},onMovement:!1,m1:{default:null,type:cc.Node},m2:{default:null,type:cc.Node},m3:{default:null,type:cc.Node},m4:{default:null,type:cc.Node}},n(i,"m4",{default:null,type:cc.Node}),n(i,"m5",{default:null,type:cc.Node}),n(i,"m6",{default:null,type:cc.Node}),n(i,"avance",0),i),onLoad:function(){this.counting=!0,this.repeat=!1,this.onMovement=!1,this.avance=0},update:function(t){this.counting&&(0<this.time?this.time-=t:(this.counting=!1,this.onMovement=!0,this.time=10)),this.onMovement&&(this.avance<400?(this.m1.position.x+=5,this.m2.position.x+=5,this.m3.position.x+=5,this.m4.position.x-=5,this.m5.position.x-=5,this.m6.position.x-=5,this.avance+=5):(this.onMovement=!1,this.avance=0,this.node.destroy()))},onCollisionEnter:function(t,o){"Player"==t.node.name&&(t.getComponent("HeroControl").onWallOfDeath(),this.counting=!0,this.node.getComponent(cc.Sprite).enabled=!1,this.node.getComponent(cc.BoxCollider).enabled=!1)}}),cc._RF.pop()},{}],createRoomScript:[function(t,o,e){"use strict";cc._RF.push(o,"7e2afwbet5OOYYZxpkd6rDk","createRoomScript");var i=t("./StompHandler.js"),n=t("./RestController.js");cc.Class({extends:cc.Component,properties:{item:{default:null,type:cc.Node},label:{default:null,type:cc.Label},content:{default:null,type:cc.Node}},onLoad:function(){this.stompClient=null,this.connectAndSubscribe()},start:function(){this.posY=-51,this.roomNumber=null;var e=this;axios.get("/rooms").then(function(t){var o;for(e.roomNumber=t.data,o=0;o<e.roomNumber;o++)e.showRoomItem(o+1)})},buttonClicked:function(){this.roomNumber<7?this.createRoomItem():alert("Maximun room capacity.")},createRoomItem:function(){var o=this,t={onSuccess:function(){console.log("ROOMMMMMMM--"+(o.roomNumber+1)+"--CREATED SUCCESFULLY"),o.stompClient.send("/topic/menu-newroom",{},JSON.stringify({}))},onFailed:function(t){alert("An error has ocurred creating the room "+(o.roomNumber+1)),console.log(t)}};(0,n.createRoom)(this.roomNumber+1,t)},showRoomItem:function(t){var o=cc.instantiate(this.item);o.y+=this.posY,o.getComponent(cc.Label).string="Room #"+t,o.getChildByName("New Button").getComponent(cc.Button).clickEvents[0].customEventData=t,this.content.addChild(o),this.posY-=51},connectAndSubscribe:function(){var o=this;(0,i.getStompClient)().then(function(t){o.stompClient=t,(0,i.subscribeTopic)(o.stompClient,"/topic/menu-newroom",function(t){o.roomNumber+=1,o.showRoomItem(o.roomNumber)})})}}),cc._RF.pop()},{"./RestController.js":"RestController","./StompHandler.js":"StompHandler"}],follow:[function(t,o,e){"use strict";cc._RF.push(o,"feb39Ti3uNP2Kj06Qnzgcqk","follow"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node}},onLoad:function(){if(this.node.active=!cc.sys.isMobile,this.target){var t=cc.follow(this.target,cc.rect(155,0,2325,1450));this.node.runAction(t)}}}),cc._RF.pop()},{}],p2:[function(t,o,e){"use strict";cc._RF.push(o,"a0f8dX6Cs9IQ7TrI4DXVFrN","p2"),cc.Class({extends:cc.Component,properties:{id:null}}),cc._RF.pop()},{}],pickUp:[function(t,o,e){"use strict";cc._RF.push(o,"869e0WlQxtPb50nQM++ryWp","pickUp"),cc.Class({extends:cc.Component,properties:{time:{default:5}},onLoad:function(){this.x=this.node.position.x,this.y=this.node.position.y,this.counting=!1,this.repeat=!1},update:function(t){this.counting&&(0<this.time?this.time-=t:(this.counting=!1,this.node.getComponent(cc.Sprite).enabled=!0,this.node.getComponent(cc.BoxCollider).enabled=!0,this.time=5))},onCollisionEnter:function(t,o){"Player"==t.node.name&&(this.counting=!0,this.node.getComponent(cc.Sprite).enabled=!1,this.node.getComponent(cc.BoxCollider).enabled=!1)}}),cc._RF.pop()},{}],tumb:[function(t,o,e){"use strict";cc._RF.push(o,"7264fMD6EdGkLrzreFAu9tD","tumb"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(t,o){"Bullet"!=t.node.name&&this.node.destroy()}}),cc._RF.pop()},{}]},{},["Bullet","CameraControl","CameraZone","HeroControl","LobbyController","MenuController","RestController","StompHandler","WallOfDeath","createRoomScript","follow","p2","pickUp","tumb"]);